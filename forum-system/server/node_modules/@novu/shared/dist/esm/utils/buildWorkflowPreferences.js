import { DEFAULT_WORKFLOW_PREFERENCES } from '../consts';
import { ChannelTypeEnum } from '../types';
export const buildWorkflowPreferences = (inputPreferences, defaultPreferences = DEFAULT_WORKFLOW_PREFERENCES) => {
    if (!inputPreferences) {
        return defaultPreferences;
    }
    return Object.assign(Object.assign({}, defaultPreferences), { workflow: Object.assign(Object.assign({}, defaultPreferences.workflow), inputPreferences.workflow), channels: Object.assign(Object.assign({}, defaultPreferences.channels), Object.values(ChannelTypeEnum).reduce((output, channel) => {
            var _a;
            return (Object.assign(Object.assign({}, output), { [channel]: Object.assign(Object.assign(Object.assign({}, defaultPreferences.channels[channel]), inputPreferences === null || inputPreferences === void 0 ? void 0 : inputPreferences.workflow), (_a = inputPreferences === null || inputPreferences === void 0 ? void 0 : inputPreferences.channels) === null || _a === void 0 ? void 0 : _a[channel]) }));
        }, {})) });
};
